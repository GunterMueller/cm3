<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: m3core/src/thread/PTHREAD/ThreadF.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>m3core/src/thread/PTHREAD/ThreadF.i3</H2></A><HR>
<inInterface>
<PRE></PRE> Copyright (C) 1989, Digital Equipment Corporation           
 All rights reserved.                                        
 See the file COPYRIGHT for a full description.              
                                                             
 Last modified on Fri Apr  7 09:11:10 PDT 1995 by kalsow     
      modified on Fri May 14 16:18:01 PDT 1993 by mjordan    
      modified on Mon Apr  5 14:50:26 PDT 1993 by muller     
      modified on Mon Jul  6 16:43:19 PDT 1992 by muller     

<P><PRE>INTERFACE <interface><A HREF="#x1">ThreadF</A></interface>;

IMPORT <A HREF="../../float/IEEE-default/FloatMode.i3.html">FloatMode</A>, <A HREF="../../runtime/common/RTHeapRep.i3.html">RTHeapRep</A>;
</PRE>--------------------------------------------- garbage collector support ---

<P><PRE>PROCEDURE <A HREF="#x2">SuspendOthers</A> ();
</PRE><BLOCKQUOTE><EM> Suspend all threads except the caller's </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x3">ResumeOthers</A> ();
</PRE><BLOCKQUOTE><EM> Resume the threads suspended by <CODE>SuspendOthers</CODE> </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x4">ProcessStacks</A> (p: PROCEDURE (start, stop: ADDRESS));
</PRE><BLOCKQUOTE><EM> Apply p to each thread stack, with [start..stop) being the limits
   of the stack.  All other threads must be suspended.  ProcessStacks
   exists solely for the garbage collector.  </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="ThreadPThread.m3.html#ProcessEachStack">ProcessEachStack</A> (p: PROCEDURE (start, stop: ADDRESS));
</PRE><BLOCKQUOTE><EM> Apply p to each thread stack, with [start..stop) being the limits
   of the stack.  Each thread is suspended individually.  ProcessEachStack
   exists solely for the garbage collector.  </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="ThreadPThread.m3.html#MyHeapState">MyHeapState</A> (): UNTRACED REF RTHeapRep.ThreadState;
</PRE>------------------------------------------------ floating point support ---

<P> access to the saved floating point state for the current thread. 
<PRE>PROCEDURE <A HREF="ThreadPThread.m3.html#GetMyFPState">GetMyFPState</A> (reader: PROCEDURE(READONLY s: FloatMode.ThreadState));
PROCEDURE <A HREF="ThreadPThread.m3.html#SetMyFPState">SetMyFPState</A> (writer: PROCEDURE(VAR s: FloatMode.ThreadState));
</PRE>-------------------------------------------------- showthreads support ---

<P><PRE>TYPE
  State = {
        alive    (* can run *),
        waiting  (* waiting for a condition via Wait *),
        locking  (* waiting for a mutex to be unlocked *),
        pausing  (* waiting until some time is arrived *),
        blocking (* waiting for some IO *),
        dying    (* done, but not yet joined *),
        dead     (* done and joined *)
	};

TYPE
  Id = INTEGER;
</PRE>-------------------------------------------------------------- identity ---

<P><PRE>PROCEDURE <A HREF="#x5">MyId</A>(): Id RAISES {};
</PRE><BLOCKQUOTE><EM> return Id of caller </EM></BLOCKQUOTE><PRE>
</PRE>---------------------------------------------------- exception delivery ---

<P><PRE>PROCEDURE <A HREF="ThreadPThread.m3.html#GetCurrentHandlers">GetCurrentHandlers</A>(): ADDRESS;
</PRE><BLOCKQUOTE><EM> == RETURN Upthread.getspecific(handlersIndex) </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="ThreadPThread.m3.html#SetCurrentHandlers">SetCurrentHandlers</A>(h: ADDRESS);
</PRE><BLOCKQUOTE><EM> == Upthread.setspecific(handlersIndex, h) </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x6">Init</A>();

END ThreadF.
</PRE>
</inInterface>
<HR>
<A NAME="x1">ThreadF's implementation  is in:
</A><UL>
<LI><A HREF="../POSIX/ThreadPosix.m3.html#0TOP0">m3core/src/thread/POSIX/ThreadPosix.m3</A>
<LI><A HREF="ThreadPThread.m3.html#0TOP0">m3core/src/thread/PTHREAD/ThreadPThread.m3</A>
</UL>
<P>
<HR>
<A NAME="x2">procedure ThreadF.SuspendOthers is in:
</A><UL>
<LI><A HREF="../POSIX/ThreadPosix.m3.html#SuspendOthers">m3core/src/thread/POSIX/ThreadPosix.m3</A>
<LI><A HREF="ThreadPThread.m3.html#SuspendOthers">m3core/src/thread/PTHREAD/ThreadPThread.m3</A>
</UL>
<P>
<HR>
<A NAME="x3">procedure ThreadF.ResumeOthers is in:
</A><UL>
<LI><A HREF="../POSIX/ThreadPosix.m3.html#ResumeOthers">m3core/src/thread/POSIX/ThreadPosix.m3</A>
<LI><A HREF="ThreadPThread.m3.html#ResumeOthers">m3core/src/thread/PTHREAD/ThreadPThread.m3</A>
</UL>
<P>
<HR>
<A NAME="x4">procedure ThreadF.ProcessStacks is in:
</A><UL>
<LI><A HREF="../POSIX/ThreadPosix.m3.html#ProcessStacks">m3core/src/thread/POSIX/ThreadPosix.m3</A>
<LI><A HREF="ThreadPThread.m3.html#ProcessStacks">m3core/src/thread/PTHREAD/ThreadPThread.m3</A>
</UL>
<P>
<HR>
<A NAME="x5">procedure ThreadF.MyId is in:
</A><UL>
<LI><A HREF="../POSIX/ThreadPosix.m3.html#MyId">m3core/src/thread/POSIX/ThreadPosix.m3</A>
<LI><A HREF="ThreadPThread.m3.html#MyId">m3core/src/thread/PTHREAD/ThreadPThread.m3</A>
</UL>
<P>
<HR>
<A NAME="x6">procedure ThreadF.Init is in:
</A><UL>
<LI><A HREF="../POSIX/ThreadPosix.m3.html#Init">m3core/src/thread/POSIX/ThreadPosix.m3</A>
<LI><A HREF="ThreadPThread.m3.html#Init">m3core/src/thread/PTHREAD/ThreadPThread.m3</A>
</UL>
<P>
<PRE>























</PRE>
</BODY>
</HTML>
