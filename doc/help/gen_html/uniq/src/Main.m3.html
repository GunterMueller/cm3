<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: uniq/src/Main.m3</TITLE>
</HEAD>
<BODY bgcolor="#eeeeee">
<A NAME="0TOP0">
<H2>uniq/src/Main.m3</H2></A><HR>
<inModule>
<PRE>MODULE <module><implements><A HREF="../../m3core/src/main/Main.i3.html">Main</A></implements></module>;

IMPORT <A HREF="../../libm3/src/rw/Rd.i3.html">Rd</A>, <A HREF="../../libm3/src/rw/Stdio.i3.html">Stdio</A>, <A HREF="../../libm3/derived/TextRefTbl.i3.html">TextRefTbl</A>, <A HREF="../../m3core/src/thread/Common/Thread.i3.html">Thread</A>, <A HREF="../../libm3/src/rw/Wr.i3.html">Wr</A>;

PROCEDURE <A NAME="DoIt"><procedure>DoIt</procedure></A> () =
  &lt;*FATAL Rd.Failure, Rd.EndOfFile, Wr.Failure, Thread.Alerted *&gt;
  VAR
    txt: TEXT;
    seen := NEW (TextRefTbl.Default).init (200);
  BEGIN
    WHILE NOT Rd.EOF (Stdio.stdin) DO
      txt := Rd.GetLine (Stdio.stdin);
      IF NOT seen.put (txt, NIL) THEN
        Wr.PutText (Stdio.stdout, txt);
        Wr.PutText (Stdio.stdout, Wr.EOL);
      END;
    END;
  END DoIt;

BEGIN
  DoIt ();
END Main.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
