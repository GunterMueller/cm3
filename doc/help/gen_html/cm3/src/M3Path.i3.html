<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: cm3/src/M3Path.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>cm3/src/M3Path.i3</H2></A><HR>
<inInterface>
<PRE></PRE> Copyright (C) 1994, Digital Equipment Corporation           
 All rights reserved.                                        
 See the file COPYRIGHT for a full description.              
                                                             
 Last modified on Mon Jul 18 13:11:25 PDT 1994 by kalsow     

<P><PRE>INTERFACE <interface><A HREF="M3Path.m3.html">M3Path</A></interface>;

TYPE
  T = RECORD
    dir  : TEXT;
    base : TEXT;
    kind : Kind;
  END;

VAR (* possibly changed at initialization and then CONST *)
  SlashText := &quot;/&quot;;

TYPE
  Kind = { Unknown, I3, IC, IS, IO, M3, MC, MS, MO,
           IG, MG, C, H, S, O, M3LIB, LIB, LIBX, PGM, PGMX, TMPL };

  OSKind = { Unix, GrumpyUnix, Win32 };

CONST
  OSKindStrings = ARRAY OSKind OF TEXT
  { &quot;Unix&quot;,
    &quot;GrumpyUnix&quot;,
    &quot;Win32&quot; };

PROCEDURE <A HREF="M3Path.m3.html#SetOS">SetOS</A> (os: OSKind;  host: BOOLEAN);
</PRE><BLOCKQUOTE><EM> Set the conventions for the specifed platform </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="M3Path.m3.html#New">New</A> (a, b, c, d: TEXT := NIL): TEXT;
</PRE><BLOCKQUOTE><EM> Return <CODE>a/b/c/d</CODE> using the host naming conventions </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="M3Path.m3.html#Join">Join</A> (dir, base: TEXT;  k: Kind): TEXT;
</PRE><BLOCKQUOTE><EM> Build and return the full path name. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="M3Path.m3.html#Parse">Parse</A> (nm: TEXT): T;
</PRE><BLOCKQUOTE><EM> Parse 'nm' into its pieces using the target platform's conventions. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="M3Path.m3.html#DefaultProgram">DefaultProgram</A> (): TEXT;
</PRE><BLOCKQUOTE><EM> Return the default program name for the target platform. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="M3Path.m3.html#ProgramName">ProgramName</A> (base: TEXT): TEXT;
</PRE><BLOCKQUOTE><EM> Return <CODE>base</CODE> as a program name on the target platform. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="M3Path.m3.html#LibraryName">LibraryName</A> (base: TEXT): TEXT;
</PRE><BLOCKQUOTE><EM> Return <CODE>base</CODE> as a library name on the target platform. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="M3Path.m3.html#Convert">Convert</A> (nm: TEXT): TEXT;
</PRE><BLOCKQUOTE><EM> Return 'nm' with and backslashes changed to forward slashes. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="M3Path.m3.html#IsEqual">IsEqual</A> (a, b: TEXT): BOOLEAN;
</PRE><BLOCKQUOTE><EM> Return <CODE>TRUE</CODE> if <CODE>a</CODE> and <CODE>b</CODE> name the same path on
   the host operating system. (i.e. ignore case on Win32) </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="M3Path.m3.html#MakeRelative">MakeRelative</A> (VAR path: TEXT;  full, rel: TEXT): BOOLEAN;
</PRE><BLOCKQUOTE><EM> If <CODE>full</CODE> is a prefix of <CODE>path</CODE>, replace <CODE>full</CODE> with <CODE>rel</CODE> and
   return <CODE>TRUE</CODE>.  Otherwise, return <CODE>FALSE</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="M3Path.m3.html#FixPath">FixPath</A> (VAR p: ARRAY OF CHAR): TEXT;
</PRE><BLOCKQUOTE><EM> exposed only for testing </EM></BLOCKQUOTE><PRE>

END M3Path.
</PRE>
</inInterface>
<PRE>























</PRE>
</BODY>
</HTML>
