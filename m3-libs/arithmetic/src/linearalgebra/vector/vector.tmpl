%
%  Quake functions to instantiate operations on generic vectors.
%

readonly proc VectorBasic (nm, field, rimpl) is
  local basic  = nm & "VectorBasic"
  local rfield = field & rimpl
  local vecsup = field & "VectorSupport"
  build_generic_intf (basic,  "VectorBasic",   [rfield, vecsup], VISIBLE)
  build_generic_impl (basic,  "VectorBasic",   [rfield, vecsup])
  build_generic_intf (vecsup, "VectorSupport", [rfield], VISIBLE)
  build_generic_impl (vecsup, "VectorSupport", [rfield])
end

readonly proc VectorFast (nm, field, rimpl) is
  VectorBasic (nm, field, rimpl)
  local basic  = nm & "VectorBasic"
  local fast   = nm & "VectorFast"
  local rfield = field & rimpl
  build_generic_intf (fast,  "VectorFast",  [rfield, basic], VISIBLE)
  build_generic_impl (fast,  "VectorFast",  [rfield])
end

readonly proc VectorTrans (nm, real, complex, cimpl, vimpl) is
  local rfield = real & "Basic"
  local rtrans = real & "Trans"
  local cfield = real & complex & cimpl
  local ctrans = real & complex & "Trans"
  local vfield = nm & "Vector" & vimpl
  local vtrans = nm & "VectorTrans"
  build_generic_intf (vtrans, "VectorTrans", [rfield, vfield], VISIBLE)
  build_generic_impl (vtrans, "VectorTrans", [rfield, rtrans, ctrans])
end

readonly proc VectorFmtLex (nm, vimpl) is
  local vfield = nm & "Vector" & vimpl
  local vfmt   = nm & "VectorFmtLex"
  local rfmt   = nm & "FmtLex"
  build_generic_intf (vfmt, "VectorFmtLex", [rfmt, vfield], VISIBLE)
  build_generic_impl (vfmt, "VectorFmtLex", [rfmt])
end
