%
%  Quake functions to instantiate operations on generic matrices.
%

readonly proc MatrixBasic (nm, vfield, rfield) is
  local basic = nm & "MatrixBasic"
  build_generic_intf (basic, "MatrixBasic", [vfield, rfield], VISIBLE)
  build_generic_impl (basic, "MatrixBasic", [vfield, rfield])
end

readonly proc MatrixFast (nm, vfield, rfield) is
  local basic = nm & "MatrixBasic"
  local fast  = nm & "MatrixFast"
  build_generic_intf (fast, "MatrixFast", [basic, vfield, rfield], VISIBLE)
  build_generic_impl (fast, "MatrixFast", [       vfield, rfield])
end

readonly proc MatrixTrans (nm, mfield, eigen, ctrans, rfield, rtrans) is
  local basic = nm & "MatrixTrans"
  build_generic_intf (basic, "MatrixTrans", [mfield,                 rfield], VISIBLE)
  build_generic_impl (basic, "MatrixTrans", [mfield, eigen,  ctrans, rfield, rtrans])
end

readonly proc MatrixDecomposition (nm, mfield, vfield, rfield, rtrans) is
  local basic = nm & "MatrixDecomposition"
  build_generic_intf (basic, "MatrixDecomposition", [mfield, vfield, rfield], VISIBLE)
  build_generic_impl (basic, "MatrixDecomposition", [mfield, vfield, rfield, rtrans])
end

readonly proc EigenSystem (nm, mfield, vfield, rfield, rtrans) is
  local basic = nm & "EigenSystem"
  build_generic_intf (basic, "EigenSystem", [mfield, vfield,         rtrans], VISIBLE)
  build_generic_impl (basic, "EigenSystem", [mfield, vfield, rfield, rtrans])
end

readonly proc CharPolynomial (nm, mfield, rtfield, rfield) is
  local basic = nm & "CharPolynomial"
  build_generic_intf (basic, "CharPolynomial", [mfield, rtfield], VISIBLE)
  build_generic_impl (basic, "CharPolynomial", [mfield, rtfield, rfield])
end

readonly proc MatrixFmtLex (nm, matrix, rfmt) is
  local basic = nm & "MatrixFmtLex"
  build_generic_intf (basic, "MatrixFmtLex", [matrix, rfmt], VISIBLE)
  build_generic_impl (basic, "MatrixFmtLex", [rfmt])
end
