%
%  Quake functions to instantiate operations on generic complex numbers.
%

readonly proc ComplexBasic (nm, field, rimpl) is
  local basic  = nm & "ComplexBasic"
  local rfield = field & rimpl
  build_generic_intf (basic, "ComplexBasic", [rfield], VISIBLE)
  build_generic_impl (basic, "ComplexBasic", [rfield])
end

readonly proc ComplexFast (nm, field, rimpl) is
  local basic  = nm & "ComplexBasic"
  local fast   = nm & "ComplexFast"
  local rfield = field & rimpl
  build_generic_intf (basic, "ComplexBasic", [rfield], VISIBLE)
  build_generic_impl (basic, "ComplexBasic", [rfield])
  build_generic_intf (fast,  "ComplexFast",  [rfield, basic], VISIBLE)
  build_generic_impl (fast,  "ComplexFast",  [rfield])
end


readonly proc ComplexTrans (nm, field, rimpl, cimpl) is
  local basic = nm & "ComplexTrans"
  local rfield = field & rimpl
  local rtrans = field & "Trans"
  local cfield = field & "Complex" & cimpl
  local ctrans = field & "ComplexTrans"
  build_generic_intf (basic, "ComplexTrans", [rfield, cfield], VISIBLE)
  build_generic_impl (basic, "ComplexTrans", [rfield, rtrans, cfield])
end

readonly proc ComplexFmtLex (nm, field, rimpl, cimpl) is
  local basic  = nm & "ComplexFmtLex"
  local rfield = field & rimpl
  local rfmt   = field & "FmtLex"
  local cfield = field & "Complex" & cimpl
  build_generic_intf (basic, "ComplexFmtLex", [        rfmt, cfield], VISIBLE)
  build_generic_impl (basic, "ComplexFmtLex", [rfield, rfmt])
end
