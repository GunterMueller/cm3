_TARGET_OS = {
  "AMD64_DARWIN"  : "DARWIN",
  "AMD64_FREEBSD" : "FREEBSD",
  "AMD64_LINUX"   : "LINUX",
  "AMD64_NETBSD"  : "NETBSD",
  "AMD64_OPENBSD" : "OPENBSD",
  "ARM_DARWIN"    : "DARWIN",
  "FreeBSD4"      : "FREEBSD",
  "I386_DARWIN"   : "DARWIN",
  "I386_INTERIX"  : "INTERIX",
  "I386_OPENBSD"  : "OPENBSD",
  "LINUXLIBC6"    : "LINUX",
  "MIPS64_OPENBSD" : "OPENBSD",
  "NetBSD2_i386"  : "NETBSD",
  "NT386"         : "NT",
  "NT386GNU"      : "CYGWIN",
  "PA32_HPUX"     : "HPUX",
  "PA64_HPUX"     : "HPUX",
  "PPC_DARWIN"    : "DARWIN",
  "PPC_LINUX"     : "LINUX",
  "PPC32_OPENBSD" : "OPENBSD",
  "SOLgnu"        : "SOLARIS",
  "SOLsun"        : "SOLARIS",
  "SPARC32_LINUX" : "LINUX",
  "SPARC64_LINUX" : "LINUX",
  "SPARC64_OPENBSD" : "OPENBSD",
  "SPARC64_SOLARIS" : "SOLARIS",
}{TARGET}

_TARGET_ARCH = {
  "AMD64_DARWIN"  : "AMD64",
  "AMD64_FREEBSD" : "AMD64",
  "AMD64_LINUX"   : "AMD64",
  "AMD64_NETBSD"  : "AMD64",
  "AMD64_OPENBSD" : "AMD64",
  "ARM_DARWIN"    : "ARM",
  "FreeBSD4"      : "I386",
  "I386_DARWIN"   : "I386",
  "I386_INTERIX"  : "I386",
  "I386_OPENBSD"  : "I386",
  "LINUXLIBC6"    : "I386",
  "MIPS64_OPENBSD" : "MIPS64",
  "NetBSD2_i386"  : "I386",
  "NT386"         : "I386",
  "NT386GNU"      : "I386",
  "PA32_HPUX"     : "HPPA",
  "PA64_HPUX"     : "HPPA64",
  "PPC_DARWIN"    : "PPC",
  "PPC_LINUX"     : "PPC",
  "PPC32_OPENBSD" : "PPC",
  "SOLgnu"        : "SPARC",
  "SOLsun"        : "SPARC",
  "SPARC32_LINUX" : "SPARC",
  "SPARC64_LINUX" : "LINUX",
  "SPARC64_OPENBSD" : "SPARC64",
  "SPARC64_SOLARIS" : "SPARC64",
}{TARGET}

if defined("TARGET_OS")
  if not equal(TARGET_OS, _TARGET_OS)
    error("TARGET_OS and _TARGET_OS should be equal but they are " & TARGET_OS & " and " & _TARGET_OS)
  end
else
  TARGET_OS = _TARGET_OS
end

if defined("TARGET_ARCH")
  if not equal(TARGET_ARCH, _TARGET_ARCH)
    error("TARGET_ARCH and _TARGET_ARCH should be equal but they are " & TARGET_ARCH & " and " & _TARGET_ARCH)
  end
else
  TARGET_ARCH = _TARGET_ARCH
end
