(* Test First_readable_addr; it looks off by a factor of 8. *)

MODULE Main;

VAR a := NEW(REF ARRAY OF CHAR, 5000 * 8);

PROCEDURE F0(): CHAR = BEGIN RETURN a[0]; END F0;
PROCEDURE F1(): CHAR = BEGIN RETURN a[1]; END F1;
PROCEDURE F4095(): CHAR = BEGIN RETURN a[4095]; END F4095;
PROCEDURE F4096(): CHAR = BEGIN RETURN a[4096]; END F4096;
PROCEDURE F4095x8(): CHAR = BEGIN RETURN a[4095*8]; END F4095x8;
PROCEDURE F4096x8(): CHAR = BEGIN RETURN a[4096*8]; END F4096x8;

PROCEDURE F2() =
BEGIN
  EVAL F0();
  EVAL F1();
  EVAL F4095();
  EVAL F4096();
  EVAL F4095x8();
  EVAL F4096x8();
END F2;

BEGIN
 F2();
END Main.
