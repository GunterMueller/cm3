%
% $Id$
%
% Copyright 1996-2000 Critical Mass, Inc. All rights reserved.
% See file COPYRIGHT-CMASS for details.
% Really?
%
% Use GNU/Cygwin a lot.
%   gcc compiler/linker/m3backend
%   Cygwin C runtime
%   Cygwin pthreads
%   CygwinX GUI
%
% Most of the variables in this file are independent of each other and
% arbitrary configurations can be produced by changing them.
%

%
% This could be NT386.common, but put it here
% for the sake m3cgcat.exe + M3CONFIG environment variable.
%
readonly TARGET       = "NT386"             % code generation target

if M3_PROFILING
    readonly PROFILING_P = "p"
else
    readonly PROFILING_P = ""
end

readonly BUILD_DIR    = "NT386GNU" & PROFILING_P
readonly OS_TYPE      = "POSIX"
readonly GNU_PLATFORM = "i686-pc-cygwin" % "cpu-vendor-os" string for GNU

readonly M3_BACKEND_MODE = "0"
% -- defines how the frontend, backend, and assembler interact
%  "0"  -- don't call m3_backend, M3CG produces object code
%  "1"  -- don't call m3_backend, M3CG produces assembly code
%  "2"  -- call m3_backend, it produces object code
%  "3"  -- call m3_backend, it produces assembly code

%eadonly NAMING_CONVENTIONS = "0"
readonly NAMING_CONVENTIONS = "2"
%                                        object files       libraries
%  0=Unix                          =>  .o   .io    .mo       libXX.a
%  1=Unix with a grumpy C compiler =>  .o   _i.o   _m.o      libXX.a
%  2=Windows NT or Windows 95      =>  .obj .io    .mo       XX.lib

%
% "MS" cl
% "GNU" gcc
%
readonly C_COMPILER = "GNU"

%
% "MS" link
% "GNU" gcc/ld
%
readonly LINKER = "MS"

%
% "MS" Win32 kernel threads
% "PTHREADS" Cygwin pthreads
%
readonly THREAD_LIBRARY = "PTHREADS"

%
% "MS"
% "X"
%
readonly WINDOW_LIBRARY = "X"

M3_MAIN_IN_C = TRUE

include("NT386.common")
