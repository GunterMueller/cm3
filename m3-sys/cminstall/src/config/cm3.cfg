if not defined("ROOT")
    if equal($ROOT, "")
        error("Neither the Quake nor environment variable ROOT is defined.")
    end
    ROOT = $ROOT
end

if not defined("TARGET")
    if equal($TARGET, "")
        error("Neither the Quake nor environment variable TARGET is defined.")
    end
    TARGET = $TARGET
end

local readonly proc file_exists (a) is
  return not stale (a, a)
end

local readonly a = (ROOT & "/m3-sys/cminstall/config-no-install/" & TARGET)
local readonly b = (ROOT & "/m3-sys/cminstall/config/" & TARGET)
if not file_exists(a)
    if not file_exists(b)
        error(a & " or " & b & " is needed.")
    end
    include(b)
else
    include(a)
end
