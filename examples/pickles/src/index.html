
<h3>Taking Persistent Snapshots of Objects: Pickles</h3>

You can use pickles to load and save state of objects from and to I/O streams,
hooked up to disk, network, or memory. This program, 
<a href=./PickleExample.m3><code>PickleExample</code></a>,
uses <a href=/interface/Pickle>pickles</a> to take snapshot of its internal 
database into disk, and then load it later.

<ul>

<li> Browse the <A href=/interface/Pickle>Pickle</a> interface. Pick a
	   filename for the persistent snapshot of
	   your atomic database.


<li> Review procedure <A href=./Pickles.m3/Save><code>Save</code></a> to 
     see how to save an object to a stream. The important call is:

<pre>
      <a href=/interface/Pickle/Write/#_DECL_>Pickle.Write</a> (wr, input_set);
</pre>

  where <code>wr</code> is a writer to the database file.

<li> Review procedure <A href=./Pickles.m3/Load><code>Load</code></a> to 
     see how to save an object to disk. The important call is:
<pre>
      input_set = <a href=/interface/Pickle/Read/#_DECL_>Pickle.Read</a> (rd);
</pre>

where <code>rd</code> is a reader for the database file.

<li> Make sure to close the reader and the
	   writer when done.

<li> Run the program to test to see if you can
	   save and load items. Important commands are:
<pre> show, quit, reset, save, load </pre>
Any other string gets inserted into the database. Try the following sequence:
<ul>
<li>insert a few items into the database
<li><code>show</code>, you see a few items in the database
<li><code>save</code>, the data is saved into database
<li><code>reset</code>, the database is reset to null
<li><code>load</code>, the data is loaded from the database
<li><code>show</code>, the initial list of items re-appears
</ul>

</ul>

